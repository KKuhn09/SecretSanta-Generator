<!DOCTYPE html>
<html>
<head>
	<title>Secret Santa</title>	
	<link rel="stylesheet" type="text/css" href="assets/css/reset.css"> <!--Browser reset-->
	<link rel="stylesheet" href="/assets/css/styles.css" type="text/css"> <!--External Style Sheet-->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css"> <!-- load bootstrap css -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css"> <!-- load fontawesome -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1"> <!--Ensure proper rendering and touch zooming-->
</head>
<body>

	<!--NAVBAR-->
	<div class="container-fluid">
		<div class="row">

			<nav class="navbar navbar-custom">
				<div class="navbar-header">
					<a class="navbar-brand" href="#" style="color:white">Secret Santa</a>
				</div>
				<!--Links to home, login page, signup page-->
				<ul class="nav navbar-nav">
	        		<li><a href="/" style="color:blue">Home</a></li>			
	        	</ul>
				<ul class="nav navbar-nav navbar-right">
	        		<li><a href="/login" style="color:blue">Login</a></li>
	        		<li class="active"><a href="/register" style="color:white">Sign Up</a></li>  			
	        	</ul>
			</nav>

		</div>
	</div>

	<!--JUMBOTRON-->
	<div class="container-fluid">
		<div class="row">
			<div class="jumbotron">

				<!--REGISTER FORM-->
				<div class="row">
					<div class="col-sm-offset-3 col-sm-6">
						<div class="well signup-well">

							<h1 class="text-center">Sign Up</h1>
						
							<form action="/register" method="post">
								<div class="form-group">
									<label>Username</label>
									<input type="text" class="form-control" name="username" placeholder="Username" required>
								</div>
								<div class="form-group">
									<label>Password</label>
									<input type="password" class="form-control" name="password" placeholder="Password" id="pass" required>
								</div>
								<div class="form-group">
									<label>Re-enter Password</label>
									<input type="password" class="form-control" name="password" placeholder="Re-enter Password" id="pass-valid" required>
								</div>
								<div class="form-group">
									<label>Email</label>
									<input type="email" class="form-control" name="email" placeholder="Email" required>
								</div>

								<button type="submit" id="form-button" class="btn btn-primary btn-md" disabled="true">Sign Up</button>
							</form><br>

							<!-- show any messages that come back with authentication -->
							<% if(message.length > 0){ %>
								<div class="alert alert-danger"><%= message %></div>
							<% } %>

							<hr class="style1">
							<p>Already have an account? <a href="/login">Login</a></p>
							<p>Or go <a href="/">home</a>.</p>

						</div>
					</div>
				</div>

			</div>
		</div>
	</div>

	<!--FOOTER-->
	<div class="container-fluid">
		<div class="row">
			<footer class="footer text-center">
				<p>&copy;2017 SSGen</p>
			</footer>
		</div>
	</div>

	<script>
		$(document).ready(function() {
			//Check if the passwords from form match
			function checkPasswords(pass, pass2){
				//Store user input
				const password = $('#pass').val();
				const confirmPassword = $('#pass-valid').val();
				//If passwords match, activate the form button
				if(password === confirmPassword){
					$('#form-button').prop("disabled", false);
				}
				//If passwords do not match, disable the button
				else{
					$('#form-button').prop("disabled", true);
				}
			}
    		$('input').keyup(function() {
				checkPasswords();
			});
    	});
	</script>

</body>
</html>